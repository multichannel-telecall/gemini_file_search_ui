# מנהל קבצים Gemini File Search

אפליקציית ווב מודרנית לניהול קבצים במאגרי Gemini File Search של Google. בנויה עם HTML, CSS ו-JavaScript טהור - רצה לגמרי בדפדפן שלך!

## תכונות

- 🎨 ממשק משתמש מודרני ויפה
- 🔐 ניהול מאובטח של מפתח API (נשמר באופן מקומי בדפדפן)
- 📋 **צפייה בכל המסמכים** במאגר החיפוש שלך
- ◀️▶️ **ניווט עמודים** עם כפתורי הקודם/הבא
- 🗑️ **מחיקת מסמכים** עם חלון אישור
- 📁 בחירת קבצים קלה מהמחשב שלך
- ⬆️ יכולת העלאה של מספר קבצים במקביל
- 📊 מעקב התקדמות בזמן אמת
- ✨ המרה אוטומטית לשמות קבצים ASCII (מטפל בתווים מיוחדים)
- 🎯 סינון לפי סוג קבץ
- 💾 שמירת הגדרות
- 🌐 אין צורך בשרת - אפליקציית ווב טהורה

## התקנה

אין צורך בהתקנה! זו אפליקציית ווב טהורה.

### אפשרות 1: הרצה מקומית (מומלץ)

**באמצעות Python** (אם מותקן):
```powershell
python -m http.server 8000
```

**באמצעות Node.js** (אם מותקן):
```powershell
npx http-server
```

**באמצעות PHP** (אם מותקן):
```powershell
php -S localhost:8000
```

ואז פתח את הדפדפן שלך ב-`http://localhost:8000`

### אפשרות 2: פתיחה ישירה

פשוט פתח את `index.html` בדפדפן שלך (עשוי להיות בעיות CORS עם קריאות API מסוימות).

## שימוש

### 1. הגדר את ההגדרות שלך

- הזן את מפתח ה-API של Google (קבל אותו מ-[Google AI Studio](https://makersuite.google.com/app/apikey))
- הזן את שם מאגר החיפוש שלך (לדוגמה: `fileSearchStores/your-store-name`)
- אופציונלי: התאם אישית את סוגי הקבצים המותרים (ברירת מחדל: `.pdf, .md`)

ההגדרות שלך נשמרות אוטומטית ב-localStorage של הדפדפן.

### 2. צפה במסמכים קיימים

- לחץ על כפתור **"רענן"** בחלק "מסמכים במאגר"
- עיין בכל המסמכים שכרגע במאגר שלך
- ראה פרטי קבצים: שם, גודל, סוג ותאריך יצירה
- השתמש בכפתורי **"הקודם"** ו-**"הבא"** לניווט בין עמודים
- מסמכים מוצגים עם המצב הנוכחי שלהם (פעיל/לא פעיל)

### 3. מחק מסמכים

- לחץ על **אייקון הפח** ליד כל מסמך
- אשר מחיקה בחלון האזהרה
- המסמך יימחק לצמיתות מהמאגר שלך
- הרשימה מתעדכנת אוטומטית לאחר המחיקה

### 4. העלה קבצים חדשים

- לחץ על **"בחר קבצים"** כדי לבחור קבצים מהמחשב שלך
- בדוק את הקבצים שנבחרו (אתה יכול להסיר קבצים לא רצויים)
- לחץ על **"העלה קבצים"** כדי להתחיל את תהליך ההעלאה
- עקוב אחר ההתקדמות בחלק הסטטוס
- קבצים שהועלו מופיעים אוטומטית ברשימת המסמכים

## הגדרות

### מפתח API
קבל את מפתח ה-API של Google מ-[Google AI Studio](https://makersuite.google.com/app/apikey).

המפתח שלך נשמר בצורה מאובטחת ב-localStorage של הדפדפן ולעולם לא נשלח לשום מקום מלבד ל-API של Google.

### שם המאגר
שם המאגר צריך להיות בפורמט:
```
fileSearchStores/your-store-id
```

לדוגמה:
```
fileSearchStores/ai-azrieli-part-bot-ozegux60qahz
```

### סוגי קבצים מותרים
ציין אילו סוגי קבצים לאפשר (מופרדים בפסיק):
- `.pdf` - מסמכי PDF
- `.md` - קבצי Markdown
- `.txt` - קבצי טקסט
- `.docx` - מסמכי Word

דוגמאות:
- `.pdf, .md` (ברירת מחדל)
- `.pdf, .txt, .docx` (מספר סוגים)
- השאר ריק כדי לאפשר את כל סוגי הקבצים

## שמות קבצים

האפליקציה ממירה אוטומטית שמות קבצים לשמות תואמי ASCII כדי להבטיח תאימות:
- מסיר תווי Unicode מיוחדים
- מחליף רווחים ותווים מיוחדים בקווים תחתונים
- שומר על סיומות הקבצים
- דוגמה: `תואר ראשון – חיפה.pdf` → `_-_.pdf`

## איך זה עובד

### ניהול מסמכים

1. **רשימת מסמכים**: מאחזר מסמכים מהמאגר שלך באמצעות Gemini File Search API
   - נקודת קצה: `GET /v1beta/{storeName}/documents`
   - תומך בדפדוף עם מעקב אחר עמודים
   - מציג מטא-דאטה: שם, גודל, סוג, תאריך, מצב

2. **מחיקת מסמכים**: מסיר מסמכים לצמיתות מהמאגר שלך
   - נקודת קצה: `DELETE /v1beta/{storeName}/documents/{documentName}?force=true`
   - מציג חלון אישור לפני מחיקה
   - מעדכן את הממשק אוטומטית לאחר מחיקה מוצלחת

### העלאת קבצים

3. **בחירת קבצים**: משתמש ב-HTML5 File API כדי לאפשר לך לבחור קבצים מהמחשב שלך
4. **קריאת קבצים**: קורא קבצים בדפדפן (לעולם לא מועלים לשרתים שלנו)
5. **העלאה למאגר**: שולח קבצים ישירות למאגר החיפוש שלך
   - נקודת קצה: `POST /v1beta/{storeName}/documents:upload`
   - משתמש ב-multipart form data להעברה יעילה
6. **עיבוד**: עוקב אחר סטטוס עיבוד המסמך עד שהוא פעיל
7. **עדכון אוטומטי**: מסמכים שהועלו זה עתה מופיעים ברשימה אוטומטית

## פרטים טכניים

### בנוי עם
- **HTML5 טהור** - סימון סמנטי
- **CSS3** - עיצוב מודרני עם אנימציות
- **JavaScript וניל** - ללא frameworks, רק APIs מקוריים של הדפדפן

### תאימות דפדפנים
עובד בכל הדפדפנים המודרניים:
- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

### שילוב API
משתמש ב-Generative Language API של Google v1beta:
- **רשימת מסמכים**: `GET /v1beta/{storeName}/documents`
- **העלאת מסמך**: `POST /v1beta/{storeName}/documents:upload`
- **קבלת מסמך**: `GET /v1beta/{storeName}/documents/{documentName}`
- **מחיקת מסמך**: `DELETE /v1beta/{storeName}/documents/{documentName}?force=true`

URL בסיס: `https://generativelanguage.googleapis.com`

## אבטחה

- 🔒 מפתחות API לעולם לא נשלחים לצדדים שלישיים
- 🔒 קבצים מעובדים באופן מקומי בדפדפן
- 🔒 תקשורת ישירה רק עם APIs של Google
- 🔒 אין מעקב או אנליטיקה
- 🔒 אין קוד צד שרת
- 🔒 קוד פתוח וניתן לביקורת

## פתרון בעיות

### לא ניתן לטעון מסמכים
- **מפתח API לא תקין**: ודא שמפתח ה-API שלך נכון ופעיל
- **שם מאגר לא תקין**: חייב להיות בפורמט `fileSearchStores/store-id`
- **שגיאות CORS**: ודא שאתה ניגש דרך HTTP/HTTPS (לא `file://`)
- **מאגר ריק**: מאגרים חדשים לא יכילו מסמכים עדיין

### כשלי העלאה
- **מפתח API לא תקין**: בדוק שוב את מפתח ה-API שלך
- **שם מאגר לא תקין**: ודא שהפורמט הוא `fileSearchStores/store-id`
- **קובץ גדול מדי**: בדוק את מגבלות גודל הקובץ של Google
- **פורמט לא נתמך**: סוגי קבצים מסוימים עשויים שלא להיות נתמכים על ידי Gemini
- **שגיאות רשת**: בדוק את חיבור האינטרנט שלך

### כשלי מחיקה
- **מסמך לא נמצא**: המסמך עשוי להיות כבר נמחק
- **הרשאה נדחתה**: ודא שלמפתח ה-API שלך יש הרשאות מחיקה
- **מאגר נעול**: חלק מהמאגרים עשויים להיות עם מגבלות מחיקה

## רישיון

MIT

## תודות

הומר מסקריפט Python לפתרון מבוסס ווב טהור.
